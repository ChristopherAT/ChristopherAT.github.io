<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="dicoding:email" content="christopher.at99@gmail.com">
  <meta charset="UTF-8" />
  <title>Selamat Natal 2019</title>
  <meta name="description" content="Sebentar lagi kita akan merayakan Natal. Aplikasi web ini menyediakan 
    hitung mundur menuju hari Natal dan beberapa artikel. Website ini memiliki animasi 
    dan musik. Dibuat secara progresiv dengan menggunakan materialize css." />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Icons and Font -->
  <link rel="icon" href="img/icon.png" sizes="32x32">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mountains+of+Christmas" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/materialize.min.css">
  <link rel="stylesheet" href="css/clockdiv.css">
  <link rel="stylesheet" href="css/neon.css">
  <!-- <link rel="stylesheet" href="css/xmas-tree.css"> -->
  <!-- <link rel="stylesheet" href="css/snow-dzendzen.css"> -->
  <!-- <link rel="stylesheet" href="css/snow.css"> -->
  <!-- <script src="js/jquery-3.4.1.min.js"></script> -->

  <style>
    .sky {
      height: 75%;
      background: none repeat scroll 0 0 #34283F;
      color: #FFF;
      padding: 12px;
      font-family: Helvetica;
      display: block;
    }

    html,
    body {
      height: 100%;
      width: 100%;
      background-color: #F5624D;
      background-image: url("img/1028.png");
      background-repeat: repeat;
      /* background-size: cover; */
    }

    body {
      margin: 0;
    }

    #font-xmas {
      font-family: "Mountains of Christmas";
      font-size: 44px;
      color: #CC231E;
      font-style: normal;
      font-variant: normal;
      font-weight: 700;
      line-height: 26.4px;
    }

    #masukan-nama {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 20px;
      color: #CC231E;
      font-style: normal;
      font-variant: normal;
      font-weight: 700;
      line-height: 26.4px;
    }

    .switch label .lever {
      top: 16px;
      float: right;
    }
  </style>
</head>

<body>
  <!-- Musik -->
  <audio autoplay loop id="musik">
    <source src="bgm/jingle-bells.mp3">
  </audio>

  <!-- Navigator bar -->
  <nav>
    <div class="nav-wrapper">
      <a href="#home" class="brand-logo">
        Selamat Natal
      </a>
      <ul id="nav-mobile" class="show-on-med-and-down">
        <li><a href="#" data-target="slide-out" class="sidenav-trigger show-on-large"><i
              class="material-icons">menu</i></a></li>
      </ul>
    </div>
  </nav>

  <!-- Side navigator -->
  <ul id="slide-out" class="sidenav">
    <li>
      <div class="user-view">
        <div class="background">
          <img src="img/background-1.jpg">
        </div>
        <a href="#user"><img class="circle" src="img/profile_photo.png"></a>
        <!-- <a href="#name"><span class="white-text name">Santa Claus</span></a> -->
        <!-- <a href="#email"><span class="white-text email">santa@gmail.com</span></a> -->
        <a href="#name"><span class="white-text name">Christopher A. Tjitrabudi</span></a>
        <!-- <a href="#email"><span class="white-text email">christopher.at99@gmail.com</span></a> -->
        <a href="mailto:christopher.at99@gmail.com" target=" _blank">
          <span class="blue-text email">christopher.at99@gmail.com</span></a>
      </div>
    </li>
    <li><a class="subheader">Blog</a></li>
    <li><a href="#RekomendasiFilm" class="waves-effect sidenav-close"><i class="material-icons">movie</i>Rekomendasi
        Film</a></li>
    <li><a href="#RekomendasiKado" class="waves-effect sidenav-close"><i
          class="material-icons">shopping_cart</i>Rekomendasi Kado</a></li>
    <li><a href="#RekomendasiWisata" class="waves-effect sidenav-close"><i
          class="material-icons">airplanemode_active</i>Rekomendasi Wisata</a></li>

    <li>
      <div class="divider"></div>
    </li>
    <li><a class="subheader">Pengaturan</a></li>

    <!-- Switch Salju -->
    <li><a>
        <div class="switch">
          Efek salju
          <label>
            <!-- Off -->
            <input id="switch-salju" type="checkbox" checked>
            <span class="lever"></span>
            <!-- On -->
          </label>
        </div>
      </a></li>
    <!-- Switch Musik -->
    <li><a>
        <div class="switch">
          Musik
          <label>
            <!-- Off -->
            <input id="switch-musik" type="checkbox" checked>
            <span class="lever"></span>
            <!-- On -->
          </label>
        </div>
      </a></li>
    <li><a>Bahasa</a></li>
    <form action="#">
      <label>
        <input name="group1" class="with-gap" type="radio" checked />
        <span>Indonesia</span>
      </label>
      <label>
        <input name="group1" class="with-gap" type="radio" disabled />
        <span>English</span>
      </label>
    </form>
    <li>
      <div class="divider"></div>
    </li>
    <li><a href="#Tentang" class="waves-effect sidenav-close">Tentang</a></li>
    <li><a href="https://github.com/ChristopherAT99/ChristopherAT99.github.io" target=" _blank"
        class="waves-effect sidenav-close"><i class="material-icons">code</i>Source Code
        (github)</a></li>
  </ul>
  <!-- <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a> -->


  <div class="container" id="body-content"></div>
  <div class="container" id="body-home">

    <!-- <div class="neon">
      <span class="text" data-text="thanks">thanks</span>
      <span class="gradient"></span>
      <span class="spotlight"></span>
    </div> -->

    <div class="row center">
      <div class="col s12 m10 offset-m1">
        <div class="card-panel deep-orange lighten-4 col s12 m6 offset-m3">
          
          <h3 id="masukan-nama" class="flow-text"></h3>
          <h1 id="font-xmas" class="flow-text">
            SELAMAT NATAL 2019
          </h1>
        </div>

      </div>
    </div>

    <!-- <img src="img/cute-pixel-christmas-tree-animated-gif.gif"> -->
    <img src="img/pixel-christmas-tree-bows-blinking-lights-animation.gif">
    <!-- <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/25839/tree.svg" width="200px"> -->


    <div class="row center" id="countdown">
      <div class="col s12 m8 offset-m2">
        <div id="clockdiv">
          <div>
            <span id="days"></span>
            <div class="smalltext">Hari</div>
          </div>
          <div>
            <span id="hours"></span>
            <div class="smalltext">Jam</div>
          </div>
          <div>
            <span id="minutes"></span>
            <div class="smalltext">Menit</div>
          </div>
          <div>
            <span id="seconds"></span>
            <div class="smalltext">Detik</div>
          </div>
        </div>
      </div>
      <div class="col s12 m10 offset-m1">
        <cdh id="teks-countdown" class="header">Menuju Natal 2019</cdh>
      </div>
    </div>


    <!-- <div class="divider"></div> -->

    <div class="card-panel deep-orange lighten-4 col s12 m6 offset-m3">
      <p class="flow-text">
        Kirim ucapan selamat natal kepada teman/keluarga<br>
      </p>
      <form class="col s10 m6">
        <div class="input-field col s6 m4">
          <i class="material-icons prefix">account_circle</i>
          <input id="Pengirim" type="text" class="validate">
          <label for="Pengirim">Nama pengirim</label>
        </div>
        <div class="input-field col s6 m4">
          <i class="material-icons prefix">mode_edit</i>
          <input id="Pesan" type="text" class="validate" value="Selamat Natal 2019">
          <label for="Pesan">Pesan/ucapan (Opsional)</label>
        </div>
      </form>
      <button class="btn waves-effect waves-light" type="submit" name="action" onclick="kirimWA();">
        Kirim via WhatsApp
        <i class="material-icons right">send</i>
      </button>
    </div>
    </div?>
  </div>

  <!-- Load js at the end of html body -->
  <script src="/js/materialize.min.js"></script>
  <script src="/js/snow.js"></script>
  <script src="/js/navigasi.js"></script>
  <script src="/js/ChristmasCountdown.js"></script>

  <script>
    // Initialize all of the Materialize Components
    M.AutoInit();

    // Untuk sidenav
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('.sidenav');
      var instances = M.Sidenav.init(elems);
    });
    var collapsibleElem = document.querySelector('.collapsible');
    var collapsibleInstance = M.Collapsible.init(collapsibleElem);
    
    // Listener Material Box
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('.materialboxed');
      var instances = M.Materialbox.init(elems);
    });

    // Kirim pesan via whatsapp
    function kirimWA() {
      var Pengirim = document.getElementById("Pengirim").value;
      var Pesan = document.getElementById("Pesan").value;
      Pengirim = Pengirim.replace(" ", "_");
      if (Pengirim == '') {
        alert('Mohon isi nama pengirim')
      }
      else {
        var linkWeb = 'https://github.com/ChristopherAT99/ChristopherAT99.github.io/?nama=' + encodeURI(Pengirim);
        var linkWA = 'https://wa.me/?text=' + encodeURI(Pesan) + '%0A' + linkWeb;
        window.location.href = linkWA;
      }
    }

    // Ambil nama pengirim dari URL
    function getUrlVars() {
      var vars = [], hash;
      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('#');

      hash = hashes[0].split('=');
      vars.push(hash[0]);
      vars[hash[0]] = hash[1];

      return vars;
    }

    // Tampilkan nama pengirim di halaman utama
    vars = getUrlVars();
    if (vars["nama"] != null) {
      var Pengirim = vars["nama"];
      Pengirim = Pengirim.replace("_", " ");
      document.getElementById("masukan-nama").innerHTML = decodeURI(Pengirim + " mengucapkan");
    }

    // Cek kalender, ganti teks id="teks-countdown" jika countdown sudah selesai
    var now = new Date();
    var currentMonth = (now.getMonth() + 1);
    var currentDay = now.getDate();
    if (currentMonth == 12 && currentDay >= 25) {
      if (currentDay == 25) document.getElementById("teks-countdown").innerHTML = "Selamat hari Natal";
      else document.getElementById("teks-countdown").innerHTML = "Hari Natal sudah lewat<br>Hitung mundur menuju Natal 2020";
    }

    // Switch salju dan musik
    // Tes switch
    // console.log(document.getElementById("switch-salju").checked)
    // console.log(document.getElementById("switch-musik").checked)

    document.querySelectorAll("#switch-salju").forEach(function (elm) {
      elm.addEventListener("click", function (event) {
        var cek = document.getElementById("switch-salju").checked;
        if (cek) {
          console.log("Salju aktif");
          snowMax = 200;
        }
        else {
          console.log("Salju mati");
          snowMax = 0;
        }
      });
    });

    document.querySelectorAll("#switch-musik").forEach(function (elm) {
      elm.addEventListener("click", function (event) {
        var cek = document.getElementById("switch-musik").checked;
        var musikk = document.getElementById("musik");
        if (cek) {
          console.log("Musik aktif");
          musikk.muted = false;
        }
        else {
          console.log("Musik mati");
          musikk.muted = true;
        }
      });
    });
  </script>
</body>

</html>